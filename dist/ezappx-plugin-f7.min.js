/*! ezappx-plugin-f7 - 0.0.15 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["ezappx-plugin-f7"]=e():t["ezappx-plugin-f7"]=e()}(window,function(){return function(t){var e={};function a(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=1)}([function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.EZAPPX_COMPONENT_TYPE="ezappx-component-type"},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},o=s(a(2)),i=s(a(3)),l=s(a(4));function s(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n({},e);(0,o.default)(t,a),(0,i.default)(t,a),(0,l.default)(t,a),t.on("load",function(){if(0==t.DomComponents.getComponents().length){var e=t.BlockManager.get("f7-init");t.DomComponents.addComponent(e.attributes.content),console.log("init f7 framework")}})}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},o=a(0);e.default=function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var e=t.DomComponents,a=e.getType("default"),i=a.model,l=a.view;e.addType("defualtContent",{model:i.extend({defaults:n({},i.prototype.defaults,{traits:[{type:"content",label:"文本",name:"text"}]})}),view:l});var s=e.getType("defualtContent"),r=s.model,c=s.view;e.addType("f7-init",{model:i.extend({defaults:n({},i.prototype.defaults,{script:function(){var t=document.createElement("script");t.type="text/javascript",t.innerHTML="\n          var app = new Framework7({\n            root: '#app',\n            name: 'config.appName',\n            id: 'com.ezappx.config.appName',\n            panel: {\n                swipe: 'left',\n            },\n          });",$("head").append(t)}})},{isComponent:function(t){if("f7-init"==$(t).attr(o.EZAPPX_COMPONENT_TYPE))return{type:"f7-init"}}}),view:l}),e.addType("f7-tab",{model:r.extend({defaults:n({},r.prototype.defaults,{traits:r.prototype.defaults.traits.concat([{type:"createPage",label:"Page Id",name:"href"}])})},{isComponent:function(t){if("f7-tab"==$(t).attr(o.EZAPPX_COMPONENT_TYPE))return{type:"f7-tab"}}}),view:l}),e.addType("f7-col",{model:i.extend({defaults:n({},i.prototype.defaults,{traits:[{type:"text",label:"占比",name:"class"}]})},{isComponent:function(t){if("f7-col"==$(t).attr(o.EZAPPX_COMPONENT_TYPE))return{type:"f7-col"}}}),view:l}),e.addType("f7-button",{model:r.extend({defaults:n({},r.prototype.defaults,{draggable:"*",droppable:!0,tagName:"button",traits:r.prototype.defaults.traits.concat([{type:"text",label:"目标地址",name:"formaction"},{type:"class",label:"按钮样式",name:"class",options:[{value:"",name:"默认"},{value:"button-fill",name:"实色"},{value:"button-raised",name:"阴影"}]}])})},{isComponent:function(t){if("f7-button"==$(t).attr(o.EZAPPX_COMPONENT_TYPE))return{type:"f7-button"}}}),view:c.extend({events:{click:"handleClick"},init:function(){var t=this.model.em.get("SelectorManager");this.model.get("classes").add(t.add("col")),this.model.get("classes").add(t.add("button"))},handleClick:function(t){t.preventDefault()}})}),e.addType("f7-badge",{model:r.extend({defaults:n({},r.prototype.defaults,{draggable:"*",droppable:!1,traits:r.prototype.defaults.traits.concat([{type:"class",label:"样式",name:"class",options:[{value:"",name:"默认"},{value:"color-red",name:"红色"},{value:"color-blue",name:"蓝色"},{value:"color-green",name:"绿色"}]}])})},{isComponent:function(t){if("f7-badge"==$(t).attr(o.EZAPPX_COMPONENT_TYPE))return{type:"f7-badge"}}}),view:c}),e.addType("f7-fill-form-button",{model:r.extend({defaults:n({},r.prototype.defaults,{script:function(){Dom7(".fill-form-from-data").on("click",function(){app.form.fillFromData("#my-form",{name:"Ezappx",email:"dev@ezappx.com",gender:"female",toggle:["yes"]})})},traits:r.prototype.defaults.traits.concat([{type:"class",label:"按钮样式",name:"class",options:[{value:"",name:"默认"},{value:"button-fill",name:"实色"},{value:"button-raised",name:"阴影"}]}])})},{isComponent:function(t){if("f7-fill-form-button"==$(t).attr(o.EZAPPX_COMPONENT_TYPE))return{type:"f7-fill-form-button"}}}),view:c.extend({init:function(){var t=this.model.em.get("SelectorManager");this.model.get("classes").add(t.add("fill-form-from-data")),this.model.get("classes").add(t.add("button"))}})}),e.addType("f7-get-form-button",{model:r.extend({defaults:n({},r.prototype.defaults,{script:function(){Dom7(".convert-form-to-data").on("click",function(){var t=app.form.convertToData("#my-form");alert(JSON.stringify(t))})},traits:r.prototype.defaults.traits.concat([{type:"class",label:"按钮样式",name:"class",options:[{value:"",name:"默认"},{value:"button-fill",name:"实色"},{value:"button-raised",name:"阴影"}]}])})},{isComponent:function(t){if("f7-get-form-button"==$(t).attr(o.EZAPPX_COMPONENT_TYPE))return{type:"f7-get-form-button"}}}),view:c.extend({init:function(){var t=this.model.em.get("SelectorManager");this.model.get("classes").add(t.add("convert-form-to-data")),this.model.get("classes").add(t.add("button"))}})})}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(0);e.default=function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var e=t.BlockManager;e.add("f7-init",{label:"Init",attributes:{class:"fa fa-bug"},category:"Layout",content:"\n                <div "+n.EZAPPX_COMPONENT_TYPE+"='f7-init' id=app>\n                    \x3c!-- Statusbar overlay --\x3e\n                    <div class='statusbar'></div>\n\n                    \x3c!-- Your main view, should have 'view-main' class --\x3e\n                    <div class='view view-main'>\n                        \x3c!-- Initial Page, 'data-name' contains page name --\x3e\n                        <div data-name='home' class='page'>\n                            <a>Drop layout here</a>\n                        </div>\n                    </div>\n                </div>\n                "}),e.add("f7-tabbar",{label:"Tabbar",attributes:{class:"fa fa-th-large"},category:"Layout",draggable:"*",content:"\n                <div class='navbar'>\n                    <div class='navbar-inner sliding'>\n                        <div class='title'>Animated Tabs</div>\n                    </div>\n                </div>\n                <div class='toolbar tabbar'>\n                    <div class='toolbar-inner'>\n                        <a href='#tab-1' class='tab-link tab-link-active' "+n.EZAPPX_COMPONENT_TYPE+"='f7-tab'>Tab 1</a>\n                        <a href='#tab-2' class='tab-link' "+n.EZAPPX_COMPONENT_TYPE+'=\'f7-tab\'>Tab 2</a>\n                    </div>\n                </div>\n                <div class=\'tabs-animated-wrap\'>\n                    <div class=\'tabs\'>\n                        <div id="tab-1" class="page-content tab tab-active">\n                            <div class="block">\n                            <p>Tab 1 content</p>\n                            </div>\n                        </div>\n                        <div id="tab-2" class="page-content tab">\n                            <div class="block">\n                            <p>Tab 2 content</p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                '}),e.add("f7-tab",{label:"Tab",attributes:{class:"fa fa-square"},category:"Layout",content:"\n                <a href='#tab-' class='tab-link' "+n.EZAPPX_COMPONENT_TYPE+"='f7-tab'>New Tab</a>\n                "}),e.add("f7-block",{label:"Block",attributes:{class:"fa fa-plus-square-o"},category:"Layout",content:'\n                <div class="block-title">Columns with gap</div>\n                    <div class="block">\n                        <a>Drop layout here</a>\n                    </div>\n                </div>\n                '}),e.add("f7-row",{label:"Row",attributes:{class:"fa fa-arrows-h"},category:"Layout",content:'\n            <div class="row">\n                <div '+n.EZAPPX_COMPONENT_TYPE+"='f7-col'>col-1</div>\n                <div "+n.EZAPPX_COMPONENT_TYPE+"='f7-col'>col-2</div>\n            </div>\n                "}),e.add("f7-col",{label:"Col",attributes:{class:"fa fa-arrows-v"},category:"Layout",content:'\n                <div class="col" '+n.EZAPPX_COMPONENT_TYPE+"='f7-col'>col</div>\n                "}),e.add("f7-text",{label:"Text",category:"Basic UI",attributes:{class:"fa fa-text-width"},content:{type:"text",content:"Insert your text here",activeOnRender:1}}),e.add("f7-link",{label:"Link",category:"Basic UI",attributes:{class:"fa fa-link"},content:{type:"link",content:"Link"}}),e.add("f7-image",{label:"Image",category:"Basic UI",attributes:{class:"fa fa-image"},content:{style:{color:"black"},type:"image",activeOnRender:1}}),e.add("f7-video",{label:"Video",category:"Basic UI",attributes:{class:"fa fa-youtube-play"},content:{type:"video",src:"img/video2.webm",style:{height:"350px",width:"100%"},activeOnRender:1}}),e.add("f7-button",{label:"Button",attributes:{class:"fa fa-square"},category:"Basic UI",content:"\n                <button "+n.EZAPPX_COMPONENT_TYPE+"='f7-button'>Button</button>\n                "}),e.add("f7-badge",{label:"Badge",attributes:{class:"fa fa-dot-circle-o"},category:"Basic UI",content:'\n                <span class="badge" '+n.EZAPPX_COMPONENT_TYPE+"='f7-badge'>0</span>\n                "}),e.add("f7-form",{label:"Form",attributes:{class:"fa fa-newspaper-o"},category:"Form",content:'\n        <form class="list" id="my-form">\n        <ul>\n          <li>\n            <div class="item-content item-input">\n              <div class="item-inner">\n                <div class="item-title item-label">Name</div>\n                <div class="item-input-wrap">\n                  <input type="text" name="name" placeholder="Your name">\n                </div>\n              </div>\n            </div>\n          </li>\n          <li>\n            <div class="item-content item-input">\n              <div class="item-inner">\n                <div class="item-title item-label">E-mail</div>\n                <div class="item-input-wrap">\n                  <input type="email" name="email" placeholder="E-mail">\n                </div>\n              </div>\n            </div>\n          </li>\n          <li>\n            <div class="item-content item-input">\n              <div class="item-inner">\n                <div class="item-title item-label">Gender</div>\n                <div class="item-input-wrap">\n                  <select name="gender">\n                    <option value="male" selected>Male</option>\n                    <option value="female">Female</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n          </li>\n          <li>\n            <div class="item-content">\n              <div class="item-inner">\n                <div class="item-title">Toggle</div>\n                <div class="item-after">\n                  <label class="toggle toggle-init">\n                    <input type="checkbox" name="toggle" value="yes"><i class="toggle-icon"></i>\n                  </label>\n                </div>\n              </div>\n            </div>\n          </li>\n        </ul>\n      </form>\n      <div class="block block-strong row">\n        <div class="col"><a class="button convert-form-to-data" href="#" '+n.EZAPPX_COMPONENT_TYPE+'=\'f7-get-form-button\'>Get Data</a></div>\n        <div class="col"><a  href="#" '+n.EZAPPX_COMPONENT_TYPE+"='f7-fill-form-button'>Fill Form</a></div>\n      </div>"})}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var e=t.TraitManager,a=e.getType("text");t.BlockManager;e.addType("content",{events:{keyup:"onChange"},onValueChange:function(){var t=this.model;t.target.set("content",t.get("value"))},getInputEl:function(){return this.inputEl||(this.inputEl=a.prototype.getInputEl.bind(this)(),this.inputEl.value=this.target.get("content")),this.inputEl}}),e.addType("class",{onValueChange:function(){var t=this,e=this.target.collection.parent.em,a=this.target,n=e.get("SelectorManager"),o=this.model.get("value"),i=a.get("classes");i.forEach(function(e){e.id==t.model._previousAttributes.value&&i.remove(e)}),console.log("change button style to",o),o&&($.each(o.split(" "),function(t,e){i.add(n.add(e))}),e.trigger("targetClassAdded"))},getInputEl:function(){if(!this.$input){var t=this.model,e=t.get("options")||[],a="<select>";e.length&&e.forEach(function(t){var e,n,o,i="";"string"==typeof t?(e=t,n=t):(e=t.name?t.name:t.value,n=t.value.replace(/"/g,"&quot;"),i+=(o=t.style?t.style.replace(/"/g,"&quot;"):"")?'style="'+o+'"':""),a+='<option value="'+n+'" '+i+">"+e+"</option>"}),a+="</select>",this.input=a,this.$input=$(this.input);var n=this.target,o=t.get("name"),i=t.get("value");if(t.get("changeProp"))i=i||n.get(o);else i=n.get("attributes")[o];i&&this.$input.val(i)}return this.$input.get(0)}}),e.addType("createPage",{events:{focusout:"onChange"},onValueChange:function(){console.log("tabTrait",this);var t=this.model,e=t._previousAttributes.value.substr(1),a=t.get("value").substr(1),n=t.target;n.setAttributes({href:t.get("value")}),n.collection.parent.collection.parent.collection.forEach(function(t){t.get("classes").forEach(function(n){"tabs-animated-wrap"==n.get("name")&&(console.log("tabs animated wrap",t),t.view.childrenView.collection.forEach(function(t){var n=!1,o=t.view.childrenView.collection;o.forEach(function(t){console.log("page",t.attributes.attributes.id),console.log(e+" change to "+a),t.attributes.attributes.id==e&&(t.setAttributes({id:a}),n=!0)}),n||o.add("<div id="+a+" class='page-content tab'>\n                          <div class='block'>\n                              <p>"+a+" content</p>\n                          </div>\n                          </div>")}))})})},getInputEl:function(){return this.inputEl||(this.inputEl=a.prototype.getInputEl.bind(this)()),this.inputEl}})}}])});
//# sourceMappingURL=ezappx-plugin-f7.min.js.map