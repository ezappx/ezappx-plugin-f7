<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <title>ezappx-plugin-f7</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/grapesjs@0.14.33/dist/css/grapes.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css">

  <script src="https://cdn.jsdelivr.net/npm/grapesjs@0.14.33/dist/grapes.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/ingbyr/ezappx-plugin-toolbar/dist/ezapp-plugin-toolbar.min.js"></script>
  <script src="dist/ezappx-plugin-f7.min.js"></script>
  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/ckeditor/4.9.2/ckeditor.js"></script> -->
  <script src="https://cdn.jsdelivr.net/npm/ckeditor@4.9.2/ckeditor.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/grapesjs-plugin-ckeditor@0.0.9/dist/grapesjs-plugin-ckeditor.min.js"></script>

  <style>
    body,html {
        height: 100%;
        margin: 0;
      }
  </style>
</head>

<body>

  <div id="gjs" style="height:0px; overflow:hidden">
  </div>

  <div id="clear-canvas" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">确认清除画布？</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal" id="cancle-clear-canvas">取消</button>
          <button type="button" class="btn btn-primary" id="confirm-clear-canvas">确认</button>
        </div>
      </div>
    </div>
  </div>

  <div id="display-about" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Ezappx</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>所得即所得（WYSIWYG）的移动应用开发环境</p>
        </div>
      </div>
    </div>
  </div>

  <script type="text/javascript">
    var editor = grapesjs.init({
      height: '100%',
      showOffsets: 1,
      noticeOnUnload: 0,
      storageManager: { autoload: 0 },
      container: '#gjs',
      fromElement: true,

      plugins: [
        'ezapp-plugin-toolbar',
        'ezappx-plugin-f7',
        'grapesjs-plugin-ckeditor',
      ],

      pluginsOpts: {
        'ezapp-plugin-toolbar': {
          clearCanvas: {
            id: '#clear-canvas',
            confirmBtnId: '#confirm-clear-canvas',
            cancleBtnId: '#cancle-clear-canvas'
          },
          displayAboutId: '#display-about',
        },

        'ezappx-plugin-f7': {
          appName: 'bar'
        }
      },

      canvas: {
        styles: [
          'https://cdn.jsdelivr.net/npm/framework7@3.4.2/css/framework7.min.css'
        ],
        scripts: [
          'https://cdn.jsdelivr.net/npm/framework7@3.4.2/js/framework7.min.js',
         'https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js'],
      },

      deviceManager: {
        devices: [],
      }
    });
    editor.runCommand('set-device-android');
    window.editor = editor;
  </script>
</body>

</html>